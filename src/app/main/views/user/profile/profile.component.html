<div class="profile__container">
  <mat-card class="profile__item">
    <mat-card-header>
      <mat-card-title class="profile__title">User Info</mat-card-title>
    </mat-card-header>
    <mat-card-content class="profile__body">
      <mat-card-subtitle class="profile__userInfo">
        <span>Username:</span>
        <p>
          <strong>{{userData.username}}</strong>
        </p>
        <span>Birth date:</span>
        <p>
          <strong>{{userData.birthDate | date:"fullDate"}}</strong>
        </p>
        <span>Email:</span>
        <p>
          <strong>{{userData.email}}</strong>
        </p>
      </mat-card-subtitle>
    </mat-card-content>
    <mat-card-footer>
      <mat-card-actions class="page-actions">
        <button mat-stroked-button color="warn" (click)="onClickDeleteAccount()"
          [disabled]="isDataFetching  || !userData.username">
          Delete Account
        </button>
      </mat-card-actions>
    </mat-card-footer>
  </mat-card>
  <mat-card class="profile__item">
    <form autoComplete="off" [formGroup]="formGroupEl">
      <mat-card-header>
        <mat-card-title class="profile__title">Update Form</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-form-field appearance="outline" color="accent">
          <mat-label>Username</mat-label>
          <input matInput type="text" formControlName="username" placeholder="username" id="username">
          <mat-icon color="default" matSuffix>person</mat-icon>
        </mat-form-field>
        <mat-form-field appearance="outline" color="accent">
          <mat-label>Birth date</mat-label>
          <input matInput type="date" formControlName="birthDate" placeholder="birth" id="birth">
          <mat-icon color="default" matSuffix>calendar_month</mat-icon>
        </mat-form-field>
      </mat-card-content>
      <mat-card-footer>
        <mat-card-actions align="end" class="page-actions">
          <button mat-stroked-button type="button" [disabled]="!formGroupEl.valid || isDataFetching"
            (click)="onClickApplyChanges()">Apply
            Changes</button>
          <button mat-stroked-button color="warn" type="button" (click)="onClickReset()">Reset</button>
        </mat-card-actions>
      </mat-card-footer>
      <div class="help-box"
        *ngIf="!formGroupEl.valid && formGroupEl.touched && formGroupEl.dirty && ((!formGroupEl.controls['username'].valid && formGroupEl.controls['username'].touched && formGroupEl.controls['username'].dirty) || (!formGroupEl.controls['birthDate'].valid && formGroupEl.controls['birthDate'].touched && formGroupEl.controls['birthDate'].dirty))">
        <span class="help-box__title">Help:</span>
        <ul>
          <li
            *ngIf="!formGroupEl.controls['username'].valid && formGroupEl.controls['username'].touched && formGroupEl.controls['username'].dirty">
            {{utilityService.getValidationMessage("USERNAME")}}
          </li>
          <li
            *ngIf="!formGroupEl.controls['birthDate'].valid && formGroupEl.controls['birthDate'].touched && formGroupEl.controls['birthDate'].dirty">
            {{utilityService.getValidationMessage("BIRTH_DATE")}}
          </li>
        </ul>
      </div>
    </form>
  </mat-card>
</div>